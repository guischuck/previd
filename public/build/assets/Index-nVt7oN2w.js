import{r as f,j as e,Q as he,t as u,S as v}from"./app-D2IawdKC.js";import{B as n}from"./badge-BhH6_4yY.js";import{B as c}from"./button-DNBkhuBo.js";import{C as l,a as i,b as m,c as o,d as U}from"./card-iaGQ1KdM.js";import{I as X}from"./input-DjKTurB4.js";import{P as je}from"./progress-ByO0EAG3.js";import{S as T,a as S,b as A,c as P,d as r}from"./select-BKNin1bN.js";import{T as ue,a as pe,b as Y,c as W}from"./tabs-D4o9-YTI.js";import{A as ge,U as ee,S as D,F as z,C as Ne,T as se}from"./app-layout-BYyG2lHs.js";import{P as ae}from"./plus-D9jE7atT.js";import{S as te}from"./search-Bi4ZtcfJ.js";import{T as fe}from"./trending-up-Bj4QAd25.js";import{C as V}from"./circle-check-big-BFvhpnUl.js";import{U as ve}from"./user-B0g0fxwR.js";import{C as k}from"./calendar-C5lsAjto.js";import{E as $}from"./eye-UIuKOPcr.js";import{T as be,a as ye}from"./toggle-right-uvRchj7R.js";import{S as _e}from"./square-pen-CoQLwFMc.js";import{T as Ce}from"./trash-2-DemLsq-b.js";/* empty css            */import"./index-DUQrCSJ5.js";import"./index-ClnT_KFv.js";import"./index-AmfJO-1_.js";import"./chevron-up-uakZWWTG.js";import"./app-logo-icon-DX44ml0d.js";const Te=[{title:"Dashboard",href:"/dashboard"},{title:"Workflows",href:"/tasks"}];function Ye({workflows:d,templates:I,stats:p,templateStats:b,clientsWithWorkflows:L,clientsWithoutWorkflows:j,users:Se,statuses:y,priorities:h,benefitTypes:K,filters:x,currentTab:E="tasks"}){var J;const[g,q]=f.useState((x==null?void 0:x.search)||""),[N,R]=f.useState((x==null?void 0:x.status)||""),[_,re]=f.useState((x==null?void 0:x.priority)||""),[C,de]=f.useState((x==null?void 0:x.benefit_type)||""),[F,ce]=f.useState(()=>new URLSearchParams(window.location.search).get("sort")||"due_date_asc"),[B,ne]=f.useState("list"),M=()=>{const s={tab:E};g&&(s.search=g),N&&(s.status=N),_&&(s.priority=_),C&&(s.benefit_type=C),F&&(s.sort=F),v.get("/tasks",s,{preserveState:!0})},G=s=>{s.key==="Enter"&&M()},le=s=>{v.get("/tasks",{tab:s},{preserveState:!0})},ie=s=>{v.patch(`/tasks/templates/${s}/toggle`,{},{preserveState:!0})},xe=s=>{confirm("Tem certeza que deseja excluir este template?")&&v.delete(`/tasks/templates/${s}`,{preserveState:!0})},Q=s=>{confirm("Tem certeza que deseja marcar esta tarefa como concluída?")&&v.patch(`/tasks/${s}/complete`,{},{preserveState:!0})},me=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},O=s=>{switch(s){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},oe=(s,t)=>new Date(s)<new Date&&t!=="completed",Z=s=>({aposentadoria_por_idade:"Aposentadoria por Idade",aposentadoria_por_tempo_contribuicao:"Aposentadoria por Tempo de Contribuição",aposentadoria_professor:"Aposentadoria Professor",aposentadoria_pcd:"Aposentadoria PCD",aposentadoria_especial:"Aposentadoria Especial",auxilio_doenca:"Auxílio-Doença",beneficio_por_incapacidade:"Benefício por Incapacidade",pensao_por_morte:"Pensão por Morte",auxilio_acidente:"Auxílio-Acidente",salario_maternidade:"Salário-Maternidade"})[s]||s,H=(d==null?void 0:d.data.reduce((s,t)=>{const a=t.status,w=t.case.id.toString();return s[a]||(s[a]={}),s[a][w]||(s[a][w]={client:{id:t.case.id,name:t.case.client_name,case_number:t.case.case_number},workflows:[]}),s[a][w].workflows.push(t),s},{}))||{};return e.jsxs(ge,{breadcrumbs:Te,children:[e.jsx(he,{title:"Workflows - PrevidIA"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"flex items-center text-3xl font-bold",children:[e.jsx(ee,{className:"mr-3 h-8 w-8 text-primary"}),"Workflows"]}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie workflows e templates para cada tipo de benefício"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(u,{href:"/tasks/templates/create",children:e.jsxs(c,{variant:"outline",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Novo Template"]})}),e.jsx(u,{href:"/tasks/create",children:e.jsxs(c,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Nova Tarefa"]})})]})]}),e.jsxs(ue,{value:E,onValueChange:le,children:[e.jsxs(pe,{children:[e.jsxs(Y,{value:"tasks",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Tarefas Ativas"})]}),e.jsxs(Y,{value:"templates",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Templates"})]})]}),e.jsxs(W,{value:"tasks",className:"space-y-6",children:[e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(te,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform text-muted-foreground"}),e.jsx(X,{placeholder:"Buscar por título, descrição ou cliente...",value:g,onChange:s=>q(s.target.value),onKeyPress:G,className:"pl-10"})]}),e.jsxs(T,{value:N||"all",onValueChange:s=>R(s==="all"?"":s),children:[e.jsx(S,{className:"w-40",children:e.jsx(A,{placeholder:"Status"})}),e.jsxs(P,{children:[e.jsx(r,{value:"all",children:"Todos os Status"}),y&&Object.entries(y).map(([s,t])=>e.jsx(r,{value:s,children:t},s))]})]}),e.jsxs(T,{value:_||"all",onValueChange:s=>re(s==="all"?"":s),children:[e.jsx(S,{className:"w-40",children:e.jsx(A,{placeholder:"Prioridade"})}),e.jsxs(P,{children:[e.jsx(r,{value:"all",children:"Todas as Prioridades"}),h&&Object.entries(h).map(([s,t])=>e.jsx(r,{value:s,children:t},s))]})]}),e.jsxs(T,{value:F,onValueChange:s=>{ce(s);const t={tab:E,sort:s};g&&(t.search=g),N&&(t.status=N),_&&(t.priority=_),C&&(t.benefit_type=C),v.get("/tasks",t,{preserveState:!0})},children:[e.jsx(S,{className:"w-48",children:e.jsx(A,{placeholder:"Ordenar por"})}),e.jsxs(P,{children:[e.jsx(r,{value:"due_date_asc",children:"Vencimento: Mais antigos"}),e.jsx(r,{value:"due_date_desc",children:"Vencimento: Mais recentes"}),e.jsx(r,{value:"created_at_desc",children:"Criação: Mais recentes"}),e.jsx(r,{value:"created_at_asc",children:"Criação: Mais antigos"}),e.jsx(r,{value:"priority_desc",children:"Prioridade: Alta → Baixa"}),e.jsx(r,{value:"priority_asc",children:"Prioridade: Baixa → Alta"}),e.jsx(r,{value:"client_name_asc",children:"Cliente: A → Z"}),e.jsx(r,{value:"client_name_desc",children:"Cliente: Z → A"})]})]}),e.jsx(c,{onClick:M,children:"Buscar"}),e.jsx(c,{variant:"outline",onClick:()=>ne(B==="list"?"kanban":"list"),title:B==="list"?"Visualização Kanban":"Visualização em Lista",children:B==="list"?"Kanban":"Lista"})]})})}),p&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total"}),e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de tarefas"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Pendentes"}),e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.pending}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando início"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Em Andamento"}),e.jsx(fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.in_progress}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Sendo executadas"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Concluídas"}),e.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.completed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Finalizadas"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Atrasadas"}),e.jsx(se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.overdue}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Vencidas"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Tarefas Ativas"}),e.jsx(U,{children:d&&d.data.length>0?`${d.data.length} tarefas encontradas`:"Lista de todas as tarefas em andamento"})]}),d&&d.data.length>0&&e.jsxs(n,{variant:"outline",className:"text-sm",children:[((J=d.meta)==null?void 0:J.total)||d.data.length," total"]})]})}),e.jsx(i,{children:d&&d.data.length>0?B==="list"?e.jsx("div",{className:"space-y-4",children:d.data.map(s=>e.jsxs("div",{className:"space-y-3 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium",children:s.title}),s.is_workflow_task&&e.jsx(n,{variant:"secondary",className:"text-xs",children:"Workflow"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{className:me(s.status),children:(y==null?void 0:y[s.status])||s.status}),e.jsx(n,{className:O(s.priority),children:(h==null?void 0:h[s.priority])||s.priority})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(ve,{className:"mr-1 h-3 w-3"}),s.case.client_name]}),e.jsxs("span",{className:"flex items-center text-muted-foreground",children:[e.jsx(z,{className:"mr-1 h-3 w-3"}),s.case.case_number]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(k,{className:"mr-1 h-3 w-3"}),new Date(s.due_date).toLocaleDateString()]}),oe(s.due_date,s.status)&&e.jsx(n,{variant:"destructive",className:"text-xs",children:"Atrasada"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(u,{href:`/cases/${s.case.id}`,children:e.jsx(c,{variant:"ghost",size:"sm",title:`Ver caso: ${s.case.case_number}`,children:e.jsx($,{className:"h-4 w-4"})})}),s.status!=="completed"&&e.jsx(c,{variant:"ghost",size:"sm",title:"Marcar como concluída",onClick:()=>Q(s.id),children:e.jsx(V,{className:"h-4 w-4"})})]})]})]},s.id))}):e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[e.jsxs("div",{className:"flex-none w-96",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:"Sem Workflow"}),e.jsx(n,{variant:"outline",className:"text-sm",children:(j==null?void 0:j.length)||0})]}),e.jsxs("div",{className:"space-y-4",children:[j==null?void 0:j.map(s=>e.jsx("div",{className:"rounded-lg border bg-card shadow-sm",children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.case_number})]}),e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx(u,{href:`/cases/${s.id}`,children:e.jsxs(c,{variant:"ghost",size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Ver Caso"]})})})]})},s.id)),(!j||j.length===0)&&e.jsx("div",{className:"rounded-lg border bg-card p-4 text-center text-sm text-muted-foreground",children:"Todos os clientes possuem workflows atribuídos"})]})]}),e.jsxs("div",{className:"flex-none w-96",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:"Pendentes"}),e.jsx(n,{variant:"outline",className:"text-sm",children:d.data.filter(s=>s.status==="pending").length})]}),e.jsx("div",{className:"space-y-4",children:Object.values(H.pending||{}).map(({client:s,workflows:t})=>e.jsxs("div",{className:"rounded-lg border bg-card shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b cursor-pointer hover:bg-accent",onClick:()=>{const a=document.getElementById(`tasks-pending-${s.id}`);a&&(a.style.display=a.style.display==="none"?"block":"none")},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.case_number})]}),e.jsx(n,{variant:"outline",className:"text-sm",children:t.length})]}),e.jsx("div",{id:`tasks-pending-${s.id}`,className:"divide-y",children:t.map(a=>e.jsxs("div",{className:"p-3 hover:bg-accent/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:a.title}),e.jsx(n,{className:O(a.priority),children:(h==null?void 0:h[a.priority])||a.priority})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"flex items-center text-muted-foreground",children:[e.jsx(k,{className:"mr-1 h-3 w-3"}),new Date(a.due_date).toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(u,{href:`/cases/${a.case.id}`,children:e.jsx(c,{variant:"ghost",size:"icon",className:"h-6 w-6",children:e.jsx($,{className:"h-3 w-3"})})}),e.jsx(c,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Q(a.id),children:e.jsx(V,{className:"h-3 w-3"})})]})]})]},a.id))})]},s.id))})]}),e.jsxs("div",{className:"flex-none w-96",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:"Concluídos"}),e.jsx(n,{variant:"outline",className:"text-sm",children:d.data.filter(s=>s.status==="completed").length})]}),e.jsx("div",{className:"space-y-4",children:Object.values(H.completed||{}).map(({client:s,workflows:t})=>e.jsxs("div",{className:"rounded-lg border bg-card shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b cursor-pointer hover:bg-accent",onClick:()=>{const a=document.getElementById(`tasks-completed-${s.id}`);a&&(a.style.display=a.style.display==="none"?"block":"none")},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.case_number})]}),e.jsx(n,{variant:"outline",className:"text-sm",children:t.length})]}),e.jsx("div",{id:`tasks-completed-${s.id}`,className:"divide-y",children:t.map(a=>e.jsxs("div",{className:"p-3 hover:bg-accent/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:a.title}),e.jsx(n,{className:O(a.priority),children:(h==null?void 0:h[a.priority])||a.priority})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"flex items-center text-muted-foreground",children:[e.jsx(k,{className:"mr-1 h-3 w-3"}),new Date(a.due_date).toLocaleDateString()]}),e.jsx(u,{href:`/cases/${a.case.id}`,children:e.jsx(c,{variant:"ghost",size:"icon",className:"h-6 w-6",children:e.jsx($,{className:"h-3 w-3"})})})]})]},a.id))})]},s.id))})]})]}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-2 text-sm font-medium",children:"Nenhuma tarefa encontrada"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Comece criando uma nova tarefa ou template."})]})})]}),L&&L.length>0&&e.jsxs(l,{children:[e.jsxs(m,{children:[e.jsx(o,{children:"Progresso dos Clientes"}),e.jsx(U,{children:"Acompanhe o progresso dos workflows por cliente"})]}),e.jsx(i,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.map(s=>e.jsxs("div",{className:"space-y-2 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.client_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Z(s.benefit_type)})]}),e.jsxs("span",{className:"text-sm font-medium",children:[s.progress_percentage,"%"]})]}),e.jsx(je,{value:s.progress_percentage,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.completed_tasks," de ",s.total_tasks," tarefas concluídas"]})]},s.id))})})]})]})]}),e.jsxs(W,{value:"templates",className:"space-y-6",children:[e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(te,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform text-muted-foreground"}),e.jsx(X,{placeholder:"Buscar por nome, descrição ou tipo de benefício...",value:g,onChange:s=>q(s.target.value),onKeyPress:G,className:"pl-10"})]}),e.jsxs(T,{value:C||"all",onValueChange:s=>de(s==="all"?"":s),children:[e.jsx(S,{className:"w-60",children:e.jsx(A,{placeholder:"Tipo de Benefício"})}),e.jsxs(P,{children:[e.jsx(r,{value:"all",children:"Todos os Benefícios"}),K&&Object.entries(K).map(([s,t])=>e.jsx(r,{value:s,children:t},s))]})]}),e.jsxs(T,{value:N||"all",onValueChange:s=>R(s==="all"?"":s),children:[e.jsx(S,{className:"w-40",children:e.jsx(A,{placeholder:"Status"})}),e.jsxs(P,{children:[e.jsx(r,{value:"all",children:"Todos"}),e.jsx(r,{value:"active",children:"Ativos"}),e.jsx(r,{value:"inactive",children:"Inativos"})]})]}),e.jsx(c,{onClick:M,children:"Buscar"})]})})}),b&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Templates criados"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Ativos"}),e.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.active}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Em uso"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Inativos"}),e.jsx(se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.inactive}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Desabilitados"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Tipos de Benefício"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.benefit_types}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Benefícios cobertos"})]})]})]}),e.jsxs(l,{children:[e.jsxs(m,{children:[e.jsx(o,{children:"Templates de Workflow"}),e.jsx(U,{children:"Gerencie os templates de tarefas para cada tipo de benefício"})]}),e.jsx(i,{children:I&&I.data.length>0?e.jsx("div",{className:"space-y-4",children:I.data.map(s=>e.jsxs("div",{className:"space-y-3 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Z(s.benefit_type)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{variant:s.is_active?"default":"secondary",children:s.is_active?"Ativo":"Inativo"}),e.jsxs(n,{variant:"outline",children:[s.tasks.length," tarefas"]})]})]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Criado em ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("span",{children:["Atualizado em ",new Date(s.updated_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>ie(s.id),children:s.is_active?e.jsx(be,{className:"h-4 w-4"}):e.jsx(ye,{className:"h-4 w-4"})}),e.jsx(u,{href:`/tasks/templates/${s.id}/edit`,children:e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(_e,{className:"h-4 w-4"})})}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>xe(s.id),children:e.jsx(Ce,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h4",{className:"mb-2 text-sm font-medium",children:"Tarefas:"}),e.jsxs("div",{className:"space-y-1",children:[s.tasks.slice(0,3).map((t,a)=>e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.order,". ",t.title]},a)),s.tasks.length>3&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["... e mais ",s.tasks.length-3," tarefas"]})]})]})]},s.id))}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(D,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-2 text-sm font-medium",children:"Nenhum template encontrado"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Comece criando um novo template de workflow."}),e.jsx(u,{href:"/tasks/templates/create",children:e.jsxs(c,{className:"mt-4",children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Criar Template"]})})]})})]})]})]})]})]})}export{Ye as default};
