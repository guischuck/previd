import{x as w,j as e,Q as _,t as h}from"./app-ByIhTPwz.js";import{B as l}from"./button-D42JWFCD.js";import{C as b,b as S,c as k,d as y,a as D}from"./card-CKXZzhI-.js";import{I as p}from"./input-BCJ9LsRF.js";import{L as i}from"./label-NLd7gjYY.js";import{S as d,a as o,b as n,c,d as x}from"./select-SvXyf1mN.js";import{T as j}from"./textarea-DJvt9bHM.js";import{A as F,U as W}from"./app-layout-Bpm5aqBZ.js";import{A as T}from"./arrow-left-CK0laoX8.js";import{S as V}from"./save-Bg9MIrp4.js";/* empty css            */import"./index-BQV6tv38.js";import"./index-B0bzsaPC.js";import"./index-DrTir1zT.js";import"./chevron-up-BRYrRRww.js";import"./app-logo-icon-BU8CUpKl.js";const A=[{title:"Dashboard",href:"/dashboard"},{title:"Workflows",href:"/tasks"},{title:"Novo Workflow",href:"/tasks/create"}];function X({cases:u,users:f,priorities:v}){const{data:r,setData:a,post:g,processing:m,errors:t}=w({case_id:"",title:"",description:"",priority:"",due_date:"",assigned_to:"",required_documents:[],notes:""}),C=s=>{s.preventDefault(),g("/tasks")};return e.jsxs(F,{breadcrumbs:A,children:[e.jsx(_,{title:"Novo Workflow - PrevidIA"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(h,{href:"/tasks",children:e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Voltar aos Workflows"]})})})}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(S,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(W,{className:"mr-2 h-5 w-5"}),"Novo Workflow"]}),e.jsx(y,{children:"Crie um novo workflow para gerenciar tarefas dos casos"})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"case_id",children:"Caso"}),e.jsxs(d,{value:r.case_id,onValueChange:s=>a("case_id",s),children:[e.jsx(o,{children:e.jsx(n,{placeholder:"Selecione o caso"})}),e.jsx(c,{children:u.map(s=>e.jsxs(x,{value:s.id.toString(),children:[s.client_name," - ",s.case_number]},s.id))})]}),t.case_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.case_id})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",children:"Título"}),e.jsx(p,{id:"title",value:r.title,onChange:s=>a("title",s.target.value),placeholder:"Título do workflow"}),t.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.title})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"priority",children:"Prioridade"}),e.jsxs(d,{value:r.priority,onValueChange:s=>a("priority",s),children:[e.jsx(o,{children:e.jsx(n,{placeholder:"Selecione a prioridade"})}),e.jsx(c,{children:Object.entries(v).map(([s,N])=>e.jsx(x,{value:s,children:N},s))})]}),t.priority&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.priority})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"due_date",children:"Data de Vencimento"}),e.jsx(p,{id:"due_date",type:"date",value:r.due_date,onChange:s=>a("due_date",s.target.value)}),t.due_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.due_date})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"assigned_to",children:"Responsável"}),e.jsxs(d,{value:r.assigned_to,onValueChange:s=>a("assigned_to",s),children:[e.jsx(o,{children:e.jsx(n,{placeholder:"Selecione o responsável"})}),e.jsx(c,{children:f.map(s=>e.jsx(x,{value:s.id.toString(),children:s.name},s.id))})]}),t.assigned_to&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.assigned_to})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Descrição"}),e.jsx(j,{id:"description",value:r.description,onChange:s=>a("description",s.target.value),placeholder:"Descrição detalhada do workflow...",rows:4}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.description})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"notes",children:"Observações"}),e.jsx(j,{id:"notes",value:r.notes,onChange:s=>a("notes",s.target.value),placeholder:"Observações adicionais...",rows:3}),t.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.notes})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(h,{href:"/tasks",children:e.jsx(l,{variant:"outline",type:"button",children:"Cancelar"})}),e.jsxs(l,{type:"submit",disabled:m,children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),m?"Criando...":"Criar Workflow"]})]})]})]})]})}export{X as default};
