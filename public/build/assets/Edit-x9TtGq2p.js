import{x as S,j as e,Q as y,t as x,S as E}from"./app-WLgdctHE.js";import{B as o}from"./button-C_hdWeJT.js";import{C as F,b as $,c as w,d as A,a as D}from"./card-B9ABilfG.js";import{I as d}from"./input-xcfB5pT_.js";import{L as a}from"./label-DW13EDec.js";import{S as h,a as p,b as u,c as j,d as n}from"./select-Ctv1h0M_.js";import{T}from"./textarea-BONqJJPl.js";import{A as V}from"./app-layout-DMq6fKxE.js";import{A as q}from"./arrow-left-CwlDV6Yj.js";import{T as z}from"./trash-2-Q_qMPmGt.js";import{S as L}from"./save-DWVzkFwX.js";/* empty css            */import"./index-BND9CRu0.js";import"./index-AgoEjcBu.js";import"./index-xBcEKAQ3.js";import"./chevron-up-Bep2Q40x.js";import"./app-logo-icon-OCgv-Ije.js";function _({case:t,users:f,benefitTypes:c}){console.log("Case data received:",t),console.log("Case status:",t==null?void 0:t.status);const{data:r,setData:l,put:v,processing:m,errors:i}=S({client_name:(t==null?void 0:t.client_name)||"",client_cpf:(t==null?void 0:t.client_cpf)||"",benefit_type:(t==null?void 0:t.benefit_type)??"",status:(t==null?void 0:t.status)||"pendente",description:(t==null?void 0:t.description)??""});if(console.log("Form data initialized:",r),console.log("Current status in form:",r.status),!t||!f||!c)return e.jsx("div",{className:"p-8 text-center text-red-600",children:"Erro ao carregar dados do caso. Verifique se o caso existe e tente novamente."});const b=[{title:"Dashboard",href:"/dashboard"},{title:"Casos",href:"/cases"},{title:t.case_number,href:`/cases/${t.id}`},{title:"Editar",href:`/cases/${t.id}/edit`}],g=s=>{s.preventDefault(),console.log("Enviando dados:",r),console.log("Status selecionado:",r.status),v(`/cases/${t.id}`)},C=()=>{confirm(`Tem certeza que deseja remover o caso "${t.client_name}"? Esta ação não pode ser desfeita.`)&&E.delete(`/cases/${t.id}`)};return e.jsxs(V,{breadcrumbs:b,children:[e.jsx(y,{title:`Editar Caso ${t.case_number} - Sistema Jurídico`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(x,{href:`/cases/${t.id}`,children:e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Voltar ao Caso"]})})})}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs(F,{children:[e.jsxs($,{children:[e.jsx(w,{children:"Editar Caso"}),e.jsxs(A,{children:["Atualize as informações do caso ",t.case_number]})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"case_number",children:"Número do Caso"}),e.jsx(d,{id:"case_number",value:t.case_number,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Número do caso não pode ser alterado"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"status",children:"Situação"}),e.jsxs(h,{value:r.status,onValueChange:s=>{console.log("Status changed to:",s),l("status",s)},children:[e.jsx(p,{children:e.jsx(u,{placeholder:"Selecione a situação"})}),e.jsxs(j,{children:[e.jsx(n,{value:"pendente",children:"Pendente"}),e.jsx(n,{value:"em_coleta",children:"Em Coleta"}),e.jsx(n,{value:"concluido",children:"Concluído"}),e.jsx(n,{value:"arquivado",children:"Arquivado"})]})]}),i.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.status})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"client_name",children:"Nome do Cliente"}),e.jsx(d,{id:"client_name",value:r.client_name,onChange:s=>l("client_name",s.target.value),placeholder:"Nome completo do cliente"}),i.client_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.client_name})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"client_cpf",children:"CPF"}),e.jsx(d,{id:"client_cpf",value:r.client_cpf,onChange:s=>l("client_cpf",s.target.value),placeholder:"000.000.000-00"}),i.client_cpf&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.client_cpf})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"benefit_type",children:"Tipo de Benefício"}),e.jsxs(h,{value:r.benefit_type,onValueChange:s=>l("benefit_type",s),children:[e.jsx(p,{children:e.jsx(u,{placeholder:"Selecione o tipo de benefício"})}),e.jsx(j,{children:Object.entries(c).map(([s,N])=>e.jsx(n,{value:s,children:N},s))})]}),i.benefit_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.benefit_type})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",children:"Descrição"}),e.jsx(T,{id:"description",value:r.description,onChange:s=>l("description",s.target.value),placeholder:"Descrição detalhada do caso...",rows:4}),i.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(o,{type:"button",variant:"destructive",onClick:C,className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Remover Caso"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{href:`/cases/${t.id}`,children:e.jsx(o,{variant:"outline",type:"button",children:"Cancelar"})}),e.jsxs(o,{type:"submit",disabled:m,children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),m?"Salvando...":"Salvar Alterações"]})]})]})]})]})]})}export{_ as default};
