import{r as C,j as e,Q as V,t as j,S as w}from"./app-WLgdctHE.js";import{B as i}from"./button-C_hdWeJT.js";import{C as r,a as l,b as _,c as T}from"./card-B9ABilfG.js";import{I as E}from"./input-xcfB5pT_.js";import{T as k,a as I,b as p}from"./tabs-C3mM2EDH.js";import{A as z,F as $,B as m,C as f}from"./app-layout-DMq6fKxE.js";import{U as d}from"./user-Co5FF7Dd.js";import{B as g}from"./building-2-D3zJHrY0.js";import{C as o}from"./circle-check-big-6MDnwIIt.js";import{S as u}from"./search-Dg-Z3FjQ.js";/* empty css            */import"./index-AgoEjcBu.js";import"./index-BND9CRu0.js";import"./app-logo-icon-OCgv-Ije.js";function W({cards:c,tab:B,search:P,resultados:t}){const[n,A]=C.useState(B||"clientes"),[x,N]=C.useState(P||""),F=s=>{A(s),N(""),w.get("/coletas",{tab:s},{preserveState:!0})},v=()=>{w.get("/coletas",{tab:n,search:x},{preserveState:!0})},S=s=>{s.key==="Enter"&&v()};return e.jsx(z,{children:e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsx(V,{title:"Central de Controle de Coletas - PrevidIA"}),e.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Central de Controle de Coletas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie e acompanhe o progresso das coletas de documentos"})]}),e.jsx("a",{href:"https://drive.google.com/drive/folders/1Ix5i0f-y63NErv9IdmY4PP6O7fcAAZxr?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-105",children:e.jsxs(i,{className:"flex items-center gap-2 bg-primary/10 text-primary hover:bg-primary/20",children:[e.jsx($,{className:"h-5 w-5"}),"Acessar Banco de Laudos"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-6",children:[e.jsx("span",{className:"text-2xl font-bold",children:c.totalVinculos}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(m,{className:"h-4 w-4"}),"Total Vínculos"]})]})}),e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-6",children:[e.jsx("span",{className:"text-2xl font-bold",children:c.clientesAtivos}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(d,{className:"h-4 w-4"}),"Clientes Ativos"]})]})}),e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-6",children:[e.jsx("span",{className:"text-2xl font-bold",children:c.clientesFinalizados}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(d,{className:"h-4 w-4"}),"Clientes Finalizados"]})]})}),e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-6",children:[e.jsx("span",{className:"text-2xl font-bold",children:c.empresasPendentes}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),"Empresas Pendentes"]})]})}),e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-6",children:[e.jsx("span",{className:"text-2xl font-bold",children:c.empresasConcluidas}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),"Empresas Concluídas"]})]})}),e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-6",children:[e.jsx("span",{className:"text-2xl font-bold text-red-600",children:c.coletasAtrasadas}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4 text-red-600"}),"Coletas Atrasadas"]})]})})]}),e.jsxs(r,{children:[e.jsx(_,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Buscar Informações"]})}),e.jsxs(l,{children:[e.jsx(k,{value:n,onValueChange:F,className:"mb-2",children:e.jsxs(I,{children:[e.jsxs(p,{value:"clientes",children:[e.jsx(d,{className:"mr-1 h-4 w-4"}),"Buscar Clientes"]}),e.jsxs(p,{value:"empresas",children:[e.jsx(g,{className:"mr-1 h-4 w-4"}),"Buscar Empresas"]}),e.jsxs(p,{value:"cargos",children:[e.jsx(m,{className:"mr-1 h-4 w-4"}),"Buscar por Cargo"]})]})}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(E,{placeholder:n==="clientes"?"Nome ou CPF do cliente":n==="empresas"?"Nome da empresa":"Cargo",value:x,onChange:s=>N(s.target.value),onKeyPress:S}),e.jsx(i,{onClick:v,variant:"default",children:e.jsx(u,{className:"h-4 w-4"})})]})]})]}),t&&t.length>0&&e.jsxs(r,{children:[e.jsx(_,{children:e.jsxs(T,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Resultados da Busca"}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[t.length," ",t.length===1?"resultado encontrado":"resultados encontrados"]})]})}),e.jsx(l,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-border",children:[n==="clientes"&&t.map((s,b)=>{var a,y;return e.jsxs("div",{className:"flex items-center justify-between p-6 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:e.jsx(d,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:s.client_name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["CPF: ",s.client_cpf]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"h-3 w-3"}),((a=s.employment_relationships)==null?void 0:a.filter(h=>h.is_active).length)||0," vínculos pendentes"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-3 w-3"}),((y=s.employment_relationships)==null?void 0:y.filter(h=>!h.is_active).length)||0," concluídos"]})]})]})]}),e.jsx(j,{href:`/cases/${s.id}/vinculos`,children:e.jsx(i,{variant:"outline",size:"sm",children:"Ver Vínculos"})})]},s.id)}),n==="empresas"&&t.map((s,b)=>{const a=s.legalCase||s.legal_case;return e.jsxs("div",{className:"flex items-center justify-between p-6 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:e.jsx(g,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:s.employer_name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Cliente: ",(a==null?void 0:a.client_name)||"-"]}),e.jsx("span",{children:"•"}),e.jsx("span",{className:`flex items-center gap-1 ${s.is_active?"text-orange-600":"text-green-600"}`,children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"h-3 w-3"})," Pendente"]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"h-3 w-3"})," Concluído"]})}),s.employer_cnpj&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:["CNPJ: ",s.employer_cnpj]})]})]})]})]}),a&&e.jsx(j,{href:`/cases/${a.id}/vinculos`,children:e.jsx(i,{variant:"outline",size:"sm",children:"Ver Vínculos"})})]},s.id)}),n==="cargos"&&t.map((s,b)=>{const a=s.legalCase||s.legal_case;return e.jsxs("div",{className:"flex items-center justify-between p-6 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100",children:e.jsx(m,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:s.cargo||"Cargo não informado"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Cliente: ",(a==null?void 0:a.client_name)||"-"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Empresa: ",s.employer_name||"-"]}),e.jsx("span",{children:"•"}),e.jsx("span",{className:`flex items-center gap-1 ${s.is_active?"text-orange-600":"text-green-600"}`,children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"h-3 w-3"})," Pendente"]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"h-3 w-3"})," Concluído"]})})]})]})]}),a&&e.jsx(j,{href:`/cases/${a.id}/vinculos`,children:e.jsx(i,{variant:"outline",size:"sm",children:"Ver Vínculos"})})]},s.id)})]})})]}),(!t||t.length===0)&&x&&e.jsx(r,{children:e.jsx(l,{className:"py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx(u,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Nenhum resultado encontrado"}),e.jsxs("p",{className:"text-muted-foreground max-w-md",children:['Não encontramos resultados para "',x,'" na categoria ',n,". Tente refinar sua busca ou alterar a categoria."]})]})})})]})})}export{W as default};
