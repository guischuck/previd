import{r as f,j as e,Q as B,t as p,S as u}from"./app-BLxXbY_b.js";import{B as i}from"./button-DT3cAopr.js";import{C as a,a as r,b as A,c as S}from"./card-DXsYbZZ8.js";import{I as P}from"./input-B6-kdMEW.js";import{T as _,a as V,b as d}from"./tabs-B0msd6OE.js";import{A as E,F as k,B as g,C as F}from"./app-layout-G5Onjp1f.js";import{U as m}from"./user-XLy2po4n.js";import{B as N}from"./building-2-DF6jaEq0.js";import{C as I}from"./circle-check-big-BXhRoDc7.js";import{S as o}from"./search-Cer43Vt0.js";/* empty css            */import"./index-6jQRo-49.js";import"./index-Ci0KITsv.js";import"./app-logo-icon-DgzmCoEH.js";function J({cards:l,tab:C,search:v,resultados:c}){const[n,b]=f.useState(C||"clientes"),[x,h]=f.useState(v||""),y=s=>{b(s),h(""),u.get("/coletas",{tab:s},{preserveState:!0})},j=()=>{u.get("/coletas",{tab:n,search:x},{preserveState:!0})},w=s=>{s.key==="Enter"&&j()};return e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsx(B,{title:"Central de Controle de Coletas - PrevidIA"}),e.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Central de Controle de Coletas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie e acompanhe o progresso das coletas de documentos"})]}),e.jsx("a",{href:"https://drive.google.com/drive/folders/1Ix5i0f-y63NErv9IdmY4PP6O7fcAAZxr?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-105",children:e.jsxs(i,{className:"flex items-center gap-2 bg-primary/10 text-primary hover:bg-primary/20",children:[e.jsx(k,{className:"h-5 w-5"}),"Acessar Banco de Laudos"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.totalVinculos}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),"Total Vínculos"]})]})}),e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.clientesAtivos}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(m,{className:"h-4 w-4"}),"Clientes Ativos"]})]})}),e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.clientesFinalizados}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(m,{className:"h-4 w-4"}),"Clientes Finalizados"]})]})}),e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.empresasPendentes}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),"Empresas Pendentes"]})]})}),e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.empresasConcluidas}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),"Empresas Concluídas"]})]})}),e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold text-red-600",children:l.coletasAtrasadas}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(F,{className:"h-4 w-4 text-red-600"}),"Coletas Atrasadas"]})]})})]}),e.jsxs(a,{children:[e.jsx(A,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5"}),"Buscar Informações"]})}),e.jsxs(r,{children:[e.jsx(_,{value:n,onValueChange:y,className:"mb-2",children:e.jsxs(V,{children:[e.jsxs(d,{value:"clientes",children:[e.jsx(m,{className:"mr-1 h-4 w-4"}),"Buscar Clientes"]}),e.jsxs(d,{value:"empresas",children:[e.jsx(N,{className:"mr-1 h-4 w-4"}),"Buscar Empresas"]}),e.jsxs(d,{value:"cargos",children:[e.jsx(g,{className:"mr-1 h-4 w-4"}),"Buscar por Cargo"]})]})}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(P,{placeholder:n==="clientes"?"Nome ou CPF do cliente":n==="empresas"?"Nome da empresa":"Cargo",value:x,onChange:s=>h(s.target.value),onKeyPress:w}),e.jsx(i,{onClick:j,variant:"default",children:e.jsx(o,{className:"h-4 w-4"})})]})]})]}),e.jsx(a,{children:e.jsx(r,{className:"py-8",children:c&&c.length>0?e.jsxs("div",{className:"space-y-4",children:[n==="clientes"&&c.map(s=>{var t;return e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium",children:s.client_name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["CPF: ",s.client_cpf]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Vínculos pendentes: ",(t=s.employment_relationships)==null?void 0:t.filter(T=>!T.collected_at).length]})]}),e.jsx(p,{href:`/cases/${s.id}/vinculos`,children:e.jsx(i,{variant:"outline",children:"Ver Vínculos"})})]},s.id)}),n!=="clientes"&&c.map(s=>{const t=s.legalCase||s.legal_case;return e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium",children:s.employer_name||s.position}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Cliente: ",(t==null?void 0:t.client_name)||"-"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Status: ",s.collected_at?"Concluído":"Pendente"]})]}),t&&e.jsx(p,{href:`/cases/${t.id}/vinculos`,children:e.jsx(i,{variant:"outline",children:"Ver Vínculos"})})]},s.id)})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(o,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Central de Controle de Coletas"}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:"Use os campos de busca acima para encontrar informações específicas."})]})})})]})})}export{J as default};
