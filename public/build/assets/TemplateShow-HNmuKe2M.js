import{r as D,j as e,Q as A,t as r,S as g}from"./app-D2IawdKC.js";import{B as x}from"./badge-BhH6_4yY.js";import{B as t}from"./button-DNBkhuBo.js";import{C as i,b as l,c as d,a as c}from"./card-iaGQ1KdM.js";import{T as B,a as E,b as f,c as o,d as R,e as m}from"./table-BL6j1Ro1.js";import{A as q,F as N,S as z}from"./app-layout-BYyG2lHs.js";import{A as P}from"./arrow-left-BOJvmNQQ.js";import{S as v}from"./square-pen-CoQLwFMc.js";import{C as b}from"./copy-zNBPdE8X.js";import{T as L}from"./trash-2-DemLsq-b.js";import{U as V}from"./user-B0g0fxwR.js";import{C as y}from"./calendar-C5lsAjto.js";import{C as H}from"./chart-column-sTYiVPmo.js";/* empty css            */import"./index-ClnT_KFv.js";import"./index-DUQrCSJ5.js";import"./app-logo-icon-DX44ml0d.js";function te({template:s,variables:h}){const[j,w]=D.useState(!1),u=a=>new Date(a).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=a=>{const n={recurso:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",requerimento:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",defesa:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",impugnacao:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300",contestacao:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300",mandado_seguranca:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",acao_ordinaria:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300"},S={recurso:"Recurso",requerimento:"Requerimento",defesa:"Defesa",impugnacao:"Impugnação",contestacao:"Contestação",mandado_seguranca:"Mandado de Segurança",acao_ordinaria:"Ação Ordinária"};return e.jsx(x,{className:`text-xs ${n[a]||"bg-gray-100 text-gray-800"}`,children:S[a]||a})},C=(a,n)=>n?e.jsx(x,{variant:"default",className:"text-xs",children:"Padrão"}):a?e.jsx(x,{variant:"secondary",className:"text-xs",children:"Ativo"}):e.jsx(x,{variant:"outline",className:"text-xs",children:"Inativo"}),T=()=>{g.patch(route("petition-templates.toggle-active",s.id),{},{preserveScroll:!0})},p=()=>{g.post(route("petition-templates.duplicate",s.id),{},{preserveScroll:!0})},_=()=>{confirm("Tem certeza que deseja excluir este template?")&&g.delete(route("petition-templates.destroy",s.id))};return e.jsxs(q,{children:[e.jsx(A,{title:`Template: ${s.name}`}),e.jsxs("div",{className:"space-y-4 p-4 sm:space-y-6 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 flex items-center gap-2",children:e.jsx(r,{href:route("petition-templates.index"),children:e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Voltar"]})})}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white",children:[e.jsx(N,{className:"mr-2 inline-block"})," ",s.name]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Detalhes e estatísticas do template"})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsx(r,{href:route("petition-templates.edit",s.id),children:e.jsxs(t,{variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Editar"]})}),e.jsxs(t,{variant:"outline",onClick:p,className:"w-full sm:w-auto",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Duplicar"]}),e.jsxs(t,{variant:"outline",onClick:T,className:"w-full sm:w-auto",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),s.is_active?"Desativar":"Ativar"]}),s.petitions_count===0&&e.jsxs(t,{variant:"destructive",onClick:_,className:"w-full sm:w-auto",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:"Informações do Template"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Categoria"}),e.jsx("div",{className:"mt-1",children:k(s.category)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("div",{className:"mt-1",children:C(s.is_active,s.is_default)})]}),s.benefit_type&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo de Benefício"}),e.jsx("div",{className:"mt-1",children:e.jsx(x,{variant:"outline",className:"text-xs",children:s.benefit_type})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Criado por"}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx(V,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.creator.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data de Criação"}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx(y,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:u(s.created_at)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Última Atualização"}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx(y,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:u(s.updated_at)})]})]})]}),s.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Descrição"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100",children:s.description})]})]})]}),h.length>0&&e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:"Variáveis do Template"})}),e.jsxs(c,{children:[e.jsx("p",{className:"mb-3 text-sm text-gray-600 dark:text-gray-400",children:"Estas variáveis são substituídas automaticamente:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((a,n)=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",children:`{{${a}}}`},n))})]})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Conteúdo do Template"}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>w(!j),children:j?"Ocultar":"Mostrar"})]})}),j&&e.jsx(c,{children:e.jsx("div",{className:"rounded-md bg-gray-50 p-4 dark:bg-gray-800",children:e.jsx("pre",{className:"font-mono text-sm whitespace-pre-wrap",children:s.content})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Estatísticas"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:s.petitions_count}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Petições criadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:h.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Variáveis"})]})]})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:"Ações Rápidas"})}),e.jsxs(c,{className:"space-y-2",children:[e.jsx(r,{href:route("petitions.create",{template:s.id}),children:e.jsxs(t,{className:"w-full",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Criar Petição"]})}),e.jsx(r,{href:route("petition-templates.edit",s.id),children:e.jsxs(t,{variant:"outline",className:"w-full",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Editar Template"]})}),e.jsxs(t,{variant:"outline",onClick:p,className:"w-full",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Duplicar Template"]})]})]})]})]}),s.petitions&&s.petitions.length>0&&e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:"Petições Criadas com este Template"})}),e.jsx(c,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(E,{children:e.jsxs(f,{children:[e.jsx(o,{children:"Título"}),e.jsx(o,{children:"Cliente"}),e.jsx(o,{children:"Criado por"}),e.jsx(o,{children:"Data"}),e.jsx(o,{className:"text-right",children:"Ações"})]})}),e.jsx(R,{children:s.petitions.map(a=>e.jsxs(f,{children:[e.jsx(m,{className:"font-medium",children:e.jsx(r,{href:route("petitions.show",a.id),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:a.title})}),e.jsx(m,{children:a.legal_case.client_name}),e.jsx(m,{children:a.user.name}),e.jsx(m,{children:u(a.created_at)}),e.jsx(m,{className:"text-right",children:e.jsx(r,{href:route("petitions.show",a.id),children:e.jsx(t,{variant:"outline",size:"sm",children:"Ver"})})})]},a.id))})]})})})]})]})]})}export{te as default};
