import{r as b,j as e,Q as X,S as g}from"./app-BCw1tvXf.js";import{A as O,F as H,X as Z,U as q}from"./app-layout-acI46LDg.js";import{c as N,B as c}from"./button-CUOcSF3l.js";import{I as K}from"./input-DTRL0anS.js";import{C as o,b as m,c as x,a as h}from"./card-B5j4ta9c.js";import{S as I,a as k,b as w,c as y,d as i}from"./select-B67tNqw4.js";import{B as M}from"./badge-BqVATA5I.js";import{C as W}from"./circle-check-big-UrWWBwWr.js";import{C as Y}from"./circle-alert-DVJiGcl7.js";import{C as ee}from"./calendar-Dlaq8kX5.js";import{F as se}from"./filter-O09CYvCl.js";import{S as ae}from"./search-IMB6-Bb_.js";import{E as Q}from"./external-link-CCE_8p2S.js";/* empty css            */import"./index-HkQZ_pMn.js";import"./index-DzBhJDo2.js";import"./app-logo-icon-CvOjhXRH.js";import"./index-QPOaYY_B.js";import"./chevron-up-BiSlpR5N.js";const $=[{title:"Dashboard",href:"/dashboard"},{title:"Processos INSS",href:"/inss-processes"}];function Se({processos:a,stats:l,statusOptions:S,servicoOptions:C,filters:f,error:A}){var V;const[n,P]=b.useState(f.search||""),[r,E]=b.useState(f.status||"all"),[t,_]=b.useState(f.servico||"all"),[d,D]=b.useState(f.periodo||"all"),J=()=>{g.get("/inss-processes",{search:n,status:r==="all"?"":r,servico:t==="all"?"":t,periodo:d==="all"?"":d},{preserveState:!0})},T=()=>{P(""),E("all"),_("all"),D("all"),g.get("/inss-processes")},p=s=>{E(s),g.get("/inss-processes",{search:n,status:s==="all"?"":s,servico:t==="all"?"":t,periodo:d==="all"?"":d},{preserveState:!0})},z=s=>{switch((s==null?void 0:s.toUpperCase())||""){case"EM ANÁLISE":case"EM ANALISE":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-700";case"EXIGÊNCIA":case"EXIGENCIA":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-700";case"CONCLUÍDA":case"CONCLUIDA":case"DEFERIDO":case"APROVADO":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-700";case"INDEFERIDO":case"REJEITADO":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-300 dark:border-gray-700"}},F=s=>s?new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",L=s=>{if(!s)return null;const v=new Date(s),u=new Date(v);return u.setDate(u.getDate()+30),u},U=s=>s.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});return A?e.jsxs(O,{breadcrumbs:$,children:[e.jsx(X,{title:"Processos - PrevidIA"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Processos INSS"}),e.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Gerencie seus processos do INSS"})]})}),e.jsxs(o,{className:"p-8 text-center",children:[e.jsx(m,{children:e.jsx(x,{className:"text-red-600",children:"Erro ao carregar dados"})}),e.jsx(h,{children:e.jsx("p",{className:"text-muted-foreground",children:A})})]})]})]}):e.jsxs(O,{breadcrumbs:$,children:[e.jsx(X,{title:"Processos INSS"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Processos INSS"}),e.jsxs("p",{className:"text-muted-foreground text-sm md:text-base",children:["Gerencie seus processos do INSS - ",(l==null?void 0:l.total_processos)||0," processos encontrados"]})]})}),e.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-4",children:[e.jsxs(o,{className:N("cursor-pointer transition-all duration-200 hover:shadow-md",r==="Em Análise"&&"ring-2 ring-blue-500"),onClick:()=>p("Em Análise"),children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-xs md:text-sm font-medium",children:"Em Análise"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold",children:(l==null?void 0:l.processos_ativos)||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ver todos ➜"})]})]}),e.jsxs(o,{className:N("cursor-pointer transition-all duration-200 hover:shadow-md",r==="Concluída"&&"ring-2 ring-green-500"),onClick:()=>p("Concluída"),children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-xs md:text-sm font-medium",children:"Concluída"}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold",children:(l==null?void 0:l.processos_concluidos)||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ver todos ➜"})]})]}),e.jsxs(o,{className:N("cursor-pointer transition-all duration-200 hover:shadow-md",r==="Exigência"&&"ring-2 ring-orange-500"),onClick:()=>p("Exigência"),children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-xs md:text-sm font-medium",children:"Em Exigência"}),e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold",children:(l==null?void 0:l.processos_exigencia)||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ver todos ➜"})]})]}),e.jsxs(o,{className:N("cursor-pointer transition-all duration-200 hover:shadow-md",r==="Protocolados Hoje"&&"ring-2 ring-purple-500"),onClick:()=>p("Protocolados Hoje"),children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-xs md:text-sm font-medium",children:"Protocolados Hoje"}),e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(h,{children:e.jsx("div",{className:"text-lg md:text-2xl font-bold",children:(l==null?void 0:l.protocolados_hoje)||0})})]})]}),e.jsxs(o,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2 text-sm md:text-base",children:[e.jsx(se,{className:"h-4 w-4"}),"Filtros"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(K,{placeholder:"Nome, CPF ou protocolo...",value:n,onChange:s=>P(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(I,{value:r,onValueChange:E,children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Todos os status"})}),e.jsxs(y,{children:[e.jsx(i,{value:"all",children:"Todos"}),S==null?void 0:S.map(s=>e.jsx(i,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Serviço"}),e.jsxs(I,{value:t,onValueChange:_,children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Todos os serviços"})}),e.jsxs(y,{children:[e.jsx(i,{value:"all",children:"Todos"}),C==null?void 0:C.map(s=>e.jsx(i,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Período"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(I,{value:d,onValueChange:D,children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Selecionar"})}),e.jsxs(y,{children:[e.jsx(i,{value:"all",children:"Todos"}),e.jsx(i,{value:"hoje",children:"Hoje"}),e.jsx(i,{value:"semana",children:"Esta semana"}),e.jsx(i,{value:"mes",children:"Este mês"}),e.jsx(i,{value:"trimestre",children:"Este trimestre"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:J,className:"flex-1 sm:flex-none",children:"Filtrar"}),e.jsx(c,{onClick:T,variant:"outline",size:"icon",className:"shrink-0",children:e.jsx(Z,{className:"h-4 w-4"})})]})]})]})]})})]}),e.jsxs(o,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2 text-sm md:text-base",children:[e.jsx(H,{className:"h-4 w-4"}),"Processos (",((V=a==null?void 0:a.data)==null?void 0:V.length)||0,")"]})}),e.jsx(h,{className:"p-0",children:a!=null&&a.data&&a.data.length>0?e.jsxs("div",{className:"space-y-0",children:[e.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 text-sm font-medium text-muted-foreground border-b bg-muted/30",children:[e.jsx("div",{className:"col-span-2",children:"PROTOCOLO"}),e.jsx("div",{className:"col-span-2",children:"CLIENTE"}),e.jsx("div",{className:"col-span-2",children:"SERVIÇO"}),e.jsx("div",{className:"col-span-2",children:"SITUAÇÃO"}),e.jsx("div",{className:"col-span-2",children:"ÚLTIMA ATUALIZAÇÃO"}),e.jsx("div",{className:"col-span-2",children:"AÇÕES"})]}),a.data.map((s,v)=>{var u,B,R,G;return e.jsxs("div",{className:N("md:grid md:grid-cols-12 gap-4 p-4 hover:bg-muted/50 transition-colors",v!==a.data.length-1&&"border-b"),children:[e.jsxs("div",{className:"md:hidden space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-mono text-sm font-medium",children:s.protocolo}),e.jsx("div",{className:"font-medium mt-1",children:s.nome}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["CPF: ",s.cpf]})]}),e.jsx(M,{className:z(s.situacao),children:s.situacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Serviço:"})," ",s.servico]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Última atualização:"})," ",F(s.ultima_atualizacao)]}),(u=s.situacao)!=null&&u.toUpperCase().includes("EXIGÊNCIA")||(B=s.situacao)!=null&&B.toUpperCase().includes("EXIGENCIA")?(()=>{const j=L(s.ultima_atualizacao);return j?e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Prazo:"})," ",U(j)]}):null})():null]}),e.jsx("div",{className:"pt-2",children:e.jsx(c,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs("a",{href:`https://atendimento.inss.gov.br/tarefas/detalhar_tarefa/${s.protocolo}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1",children:[e.jsx(Q,{className:"h-4 w-4"}),"Ver no INSS"]})})})]}),e.jsx("div",{className:"hidden md:block col-span-2",children:e.jsx("div",{className:"font-mono text-sm font-medium",children:s.protocolo})}),e.jsxs("div",{className:"hidden md:block col-span-2",children:[e.jsx("div",{className:"font-medium",children:s.nome}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["CPF: ",s.cpf]})]}),e.jsx("div",{className:"hidden md:block col-span-2",children:e.jsx("div",{className:"text-sm",children:s.servico})}),e.jsx("div",{className:"hidden md:block col-span-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:z(s.situacao),children:s.situacao}),(R=s.situacao)!=null&&R.toUpperCase().includes("EXIGÊNCIA")||(G=s.situacao)!=null&&G.toUpperCase().includes("EXIGENCIA")?(()=>{const j=L(s.ultima_atualizacao);return j?e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Prazo: ",U(j)]}):null})():null]})}),e.jsx("div",{className:"hidden md:block col-span-2",children:e.jsx("div",{className:"text-sm",children:F(s.ultima_atualizacao)})}),e.jsx("div",{className:"hidden md:block col-span-2",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:`https://atendimento.inss.gov.br/tarefas/detalhar_tarefa/${s.protocolo}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-4 w-4"}),"Ver no INSS"]})})})})]},s.id)}),a.last_page>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 p-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",a.current_page," de ",a.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:()=>g.get("/inss-processes",{page:a.current_page-1,search:n,status:r==="all"?"":r,servico:t==="all"?"":t,periodo:d==="all"?"":d},{preserveState:!0}),variant:"outline",size:"sm",disabled:a.current_page===1,className:"w-24",children:"Anterior"}),e.jsx(c,{onClick:()=>g.get("/inss-processes",{page:a.current_page+1,search:n,status:r==="all"?"":r,servico:t==="all"?"":t,periodo:d==="all"?"":d},{preserveState:!0}),variant:"outline",size:"sm",disabled:a.current_page===a.last_page,className:"w-24",children:"Próxima"})]})]})]}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(q,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum processo encontrado"}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:n||r!=="all"||t!=="all"||d!=="all"?"Nenhum processo encontrado com os filtros aplicados":"Nenhum processo encontrado com status: Em Análise, Em Exigência ou Concluída"}),(n||r!=="all"||t!=="all"||d!=="all")&&e.jsx(c,{onClick:T,variant:"outline",children:"Limpar filtros"})]})})]})]})]})}export{Se as default};
