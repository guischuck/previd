import{r as j,j as e,Q as B,t as p,S as u}from"./app-BCw1tvXf.js";import{B as i}from"./button-CUOcSF3l.js";import{C as t,a as r,b as A,c as S}from"./card-B5j4ta9c.js";import{I as P}from"./input-DTRL0anS.js";import{T as _,a as k,b as d}from"./tabs-OoMr9FNV.js";import{A as V,F as E,B as g,C as F}from"./app-layout-acI46LDg.js";import{U as o}from"./user-BqlPx8gd.js";import{B as N}from"./building-2-BZBaLthy.js";import{C as I}from"./circle-check-big-UrWWBwWr.js";import{S as x}from"./search-IMB6-Bb_.js";/* empty css            */import"./index-HkQZ_pMn.js";import"./index-DzBhJDo2.js";import"./app-logo-icon-CvOjhXRH.js";function J({cards:l,tab:b,search:v,resultados:c}){const[n,C]=j.useState(b||"clientes"),[m,h]=j.useState(v||""),y=s=>{C(s),h(""),u.get("/coletas",{tab:s},{preserveState:!0})},f=()=>{u.get("/coletas",{tab:n,search:m},{preserveState:!0})},w=s=>{s.key==="Enter"&&f()};return e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsx(B,{title:"Central de Controle de Coletas - PrevidIA"}),e.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Central de Controle de Coletas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie e acompanhe o progresso das coletas de documentos"})]}),e.jsx("a",{href:"https://drive.google.com/drive/folders/1Ix5i0f-y63NErv9IdmY4PP6O7fcAAZxr?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-105",children:e.jsxs(i,{className:"flex items-center gap-2 bg-primary/10 text-primary hover:bg-primary/20",children:[e.jsx(E,{className:"h-5 w-5"}),"Acessar Banco de Laudos"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[e.jsx(t,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.totalVinculos}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),"Total Vínculos"]})]})}),e.jsx(t,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.clientesAtivos}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),"Clientes Ativos"]})]})}),e.jsx(t,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.clientesFinalizados}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),"Clientes Finalizados"]})]})}),e.jsx(t,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.empresasPendentes}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),"Empresas Pendentes"]})]})}),e.jsx(t,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:l.empresasConcluidas}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),"Empresas Concluídas"]})]})}),e.jsx(t,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-4",children:[e.jsx("span",{className:"text-2xl font-bold text-red-600",children:l.coletasAtrasadas}),e.jsxs("span",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(F,{className:"h-4 w-4 text-red-600"}),"Coletas Atrasadas"]})]})})]}),e.jsxs(t,{children:[e.jsx(A,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),"Buscar Informações"]})}),e.jsxs(r,{children:[e.jsx(_,{value:n,onValueChange:y,className:"mb-2",children:e.jsxs(k,{children:[e.jsxs(d,{value:"clientes",children:[e.jsx(o,{className:"mr-1 h-4 w-4"}),"Buscar Clientes"]}),e.jsxs(d,{value:"empresas",children:[e.jsx(N,{className:"mr-1 h-4 w-4"}),"Buscar Empresas"]}),e.jsxs(d,{value:"cargos",children:[e.jsx(g,{className:"mr-1 h-4 w-4"}),"Buscar por Cargo"]})]})}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(P,{placeholder:n==="clientes"?"Nome ou CPF do cliente":n==="empresas"?"Nome da empresa":"Cargo",value:m,onChange:s=>h(s.target.value),onKeyPress:w}),e.jsx(i,{onClick:f,variant:"default",children:e.jsx(x,{className:"h-4 w-4"})})]})]})]}),e.jsx(t,{children:e.jsx(r,{className:"py-8",children:c&&c.length>0?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 justify-center",children:[n==="clientes"&&c.map(s=>{var a;return e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border shadow-lg bg-background/90 p-6 transition-transform hover:scale-[1.02] hover:shadow-xl min-w-0",children:[e.jsxs("div",{className:"flex-1 mb-4",children:[e.jsx("div",{className:"text-xl font-bold text-primary mb-1 truncate",children:s.client_name}),e.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:["CPF: ",s.client_cpf]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Vínculos pendentes: ",(a=s.employment_relationships)==null?void 0:a.filter(T=>!T.collected_at).length]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{href:`/cases/${s.id}/vinculos`,children:e.jsx(i,{variant:"outline",className:"text-xs",children:"Ver Vínculos"})})})]},s.id)}),n!=="clientes"&&c.map(s=>{const a=s.legalCase||s.legal_case;return e.jsxs("div",{className:"flex flex-col justify-between rounded-xl border shadow-lg bg-background/90 p-6 transition-transform hover:scale-[1.02] hover:shadow-xl min-w-0",children:[e.jsxs("div",{className:"flex-1 mb-4",children:[e.jsx("div",{className:"text-xl font-bold text-primary mb-1 truncate",children:s.employer_name||s.position}),e.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:["Cliente: ",(a==null?void 0:a.client_name)||"-"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Status: ",s.collected_at?"Concluído":"Pendente"]})]}),e.jsx("div",{className:"flex justify-end",children:a&&e.jsx(p,{href:`/cases/${a.id}/vinculos`,children:e.jsx(i,{variant:"outline",className:"text-xs",children:"Ver Vínculos"})})})]},s.id)})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(x,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Nenhum resultado encontrado"}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:"Tente refinar sua busca ou alterar os filtros/abas acima."})]})})})]})})}export{J as default};
