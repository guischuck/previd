import{r as u,j as e,Q as le,t as ce,a as R}from"./app-D2IawdKC.js";import{B as f}from"./button-DNBkhuBo.js";import{I as E}from"./input-DjKTurB4.js";import{L as b}from"./label-DqtjYQjL.js";import{C as F,b as q,c as B,a as X,d as z}from"./card-iaGQ1KdM.js";import{D as J,a as M,b as U,c as H,d as K,e as Q}from"./dialog-vJF0Vz9m.js";import{T as de,a as ie,b as G,c as w,d as me,e as T}from"./table-BL6j1Ro1.js";import{A as ue,F as pe,a as W}from"./app-layout-BYyG2lHs.js";import{A as xe}from"./arrow-left-BOJvmNQQ.js";import{P as he}from"./plus-D9jE7atT.js";import{C as ve,a as ge}from"./chevron-up-uakZWWTG.js";import{C as je}from"./copy-zNBPdE8X.js";/* empty css            */import"./index-DUQrCSJ5.js";import"./index-ClnT_KFv.js";import"./app-logo-icon-DX44ml0d.js";const N=r=>{if(!r)return"Em andamento";const p=r.split("T")[0].split("-");return p.length!==3?r:`${p[2]}/${p[1]}/${p[0]}`};function fe(r){const h=r.split("/");return h.length!==3?null:`${h[2]}-${h[1]}-${h[0]}`}function Y({value:r,onChange:h}){const[p,i]=u.useState(!1),[x,v]=u.useState(r?N(r):""),[y,C]=u.useState(!1);u.useEffect(()=>{v(r?N(r):"")},[r]);const g=async()=>{if(x!==(r?N(r):"")){C(!0);const n=fe(x);n&&await h(n),C(!1)}i(!1)};return p?e.jsx("input",{type:"text",value:x,placeholder:"DD/MM/AAAA",onChange:n=>v(n.target.value),onBlur:g,onKeyDown:n=>n.key==="Enter"&&g(),className:`rounded border px-2 py-1 ${y?"opacity-50":""}`,disabled:y,autoFocus:!0}):e.jsx("span",{onClick:()=>i(!0),className:"cursor-pointer text-blue-600 underline hover:text-blue-800 dark:text-blue-300",children:r?N(r):"---"})}function L({value:r,onChange:h,placeholder:p}){const[i,x]=u.useState(!1),[v,y]=u.useState(r),[C,g]=u.useState(!1);u.useEffect(()=>{y(r)},[r]);const n=async()=>{v!==r&&(g(!0),await h(v),g(!1)),x(!1)};return i?e.jsx("input",{type:"text",value:v,placeholder:p,onChange:A=>y(A.target.value),onBlur:n,onKeyDown:A=>A.key==="Enter"&&n(),className:`w-full rounded border px-2 py-1 ${C?"opacity-50":""}`,disabled:C,autoFocus:!0}):e.jsx("span",{onClick:()=>x(!0),className:"cursor-pointer text-blue-600 underline hover:text-blue-800 dark:text-blue-300",children:r||e.jsx("span",{className:"text-muted-foreground",children:p})})}function Oe({case:r}){const h=[{title:"Dashboard",href:"/dashboard"},{title:"Casos",href:"/cases"},{title:r.case_number,href:`/cases/${r.id}`},{title:"Vínculos Empregatícios",href:`/cases/${r.id}/vinculos`}],p=s=>{if(!s)return"Não informado";const a=s.replace(/\D/g,"");return a.length===14?a.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5"):s},[i,x]=u.useState(r.employment_relationships),[v,y]=u.useState(null),[C,g]=u.useState(!1),[n,A]=u.useState(null),[Z,k]=u.useState(!1),[m,j]=u.useState({employer_name:"",employer_cnpj:"",start_date:"",end_date:"",cargo:"",documentos:"",observacoes:"",status_empresa:""}),[ee,O]=u.useState({});u.useEffect(()=>{(async()=>{try{for(const a of i){const o=await fetch(`/api/employment-relationships/${a.id}/tentativas`);o.ok&&(await o.json()).forEach(d=>{["endereco","rastreamento","data_envio","retorno","email","telefone"].forEach(c=>{if(d[c]){const _=`${a.id}_${d.tentativa_num}_${c}`;O(I=>({...I,[_]:d[c]}))}})})}}catch(a){console.error("Erro ao carregar tentativas:",a)}})()},[i]);const se=s=>{y(v===s?null:s)},ae=async s=>{var t;const a=[...i],o=!a[s].is_active;a[s]={...a[s],is_active:o},x(a);try{console.log("Enviando toggle status:",{id:a[s].id,is_active:o});const d=await fetch(`/api/employment-relationships/${a[s].id}`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify({is_active:o})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const l=await d.json();console.log("Status alterado com sucesso:",l),l.case_progress&&l.case_id&&(window.dispatchEvent(new CustomEvent("caseProgressUpdated",{detail:{caseId:l.case_id,progress:l.case_progress,status:l.case_status}})),localStorage.setItem(`case_progress_${l.case_id}`,JSON.stringify({progress:l.case_progress,status:l.case_status,timestamp:Date.now()})),console.log("Progresso do caso atualizado:",l.case_progress))}catch(d){console.error("Erro ao salvar status:",d),alert("Erro ao salvar status. Tente novamente.");const l=[...i];l[s].is_active=!o,x(l)}},oe=async s=>{try{const a=i[s];if(!a||!a.id){console.error("Vínculo inválido ou sem ID");return}console.log("Removendo vínculo:",a);const o=await R.delete(`/api/employment-relationships/${a.id}`);if(console.log("Resposta da API ao remover vínculo:",o.data),o.data.success){const t=[...i];t.splice(s,1),x(t),o.data.case_status&&setCase(d=>({...d,status:o.data.case_status,collection_progress:o.data.case_progress}))}else console.error("Erro ao remover vínculo:",o.data)}catch(a){console.error("Erro ao remover vínculo:",a)}},te=s=>{A(s),g(!0)},re=()=>g(!1),ne=async s=>{var a,o;s.preventDefault();try{console.log("Enviando novo vínculo:",m);const t={case_id:r.id,employer_name:m.employer_name,employer_cnpj:m.employer_cnpj,start_date:m.start_date,end_date:m.end_date,cargo:m.cargo,documentos:m.documentos,observacoes:m.observacoes,status_empresa:m.status_empresa,is_active:!0},d=await R.post("/api/employment-relationships",t,{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""}});d.data.data&&(x(l=>[...l,d.data.data]),k(!1),j({employer_name:"",employer_cnpj:"",start_date:"",end_date:"",cargo:"",documentos:"",observacoes:"",status_empresa:""}))}catch(t){console.error("Erro ao criar vínculo:",t),console.error("Dados enviados:",m),R.isAxiosError(t)&&console.error("Resposta do servidor:",(o=t.response)==null?void 0:o.data),alert("Erro ao criar novo vínculo. Tente novamente.")}},P=async(s,a,o)=>{var d,l;console.log("Salvando campo:",{field:a,value:o});const t=i[s];try{const c=[...i];c[s]={...c[s],[a]:o},x(c);const _=await R.patch(`/api/employment-relationships/${t.id}`,{[a]:o},{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""}});console.log("Campo salvo com sucesso:",_.data)}catch(c){console.error("Erro ao salvar campo:",c),console.error("Dados enviados:",{field:a,value:o}),R.isAxiosError(c)&&console.error("Resposta do servidor:",(l=c.response)==null?void 0:l.data),alert(`Erro ao salvar ${a}. Tente novamente.`)}},$=async(s,a,o,t)=>{var l;const d=`${i[s].id}_${a}_${o}`;O(c=>({...c,[d]:t}));try{console.log("Salvando tentativa:",{employmentId:i[s].id,tentativa:a,field:o,value:t,url:`/api/employment-relationships/${i[s].id}/tentativas/${a}`});const c=await fetch(`/api/employment-relationships/${i[s].id}/tentativas/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""},body:JSON.stringify({[o]:t})});if(!c.ok){const I=await c.text();throw console.error("Erro HTTP:",c.status,I),new Error(`HTTP error! status: ${c.status} - ${I}`)}const _=await c.json();console.log("Tentativa salva com sucesso:",_)}catch(c){console.error("Erro ao salvar tentativa:",c);const _=c instanceof Error?c.message:"Erro desconhecido";alert(`Erro ao salvar ${o} da tentativa ${a}. Tente novamente. Erro: ${_}`)}},S=(s,a,o)=>{const t=`${s}_${a}_${o}`;return ee[t]||""},D=(s,a,o,t)=>{const d=`${s}_${a}_${o}`;O(l=>({...l,[d]:t}))},V=s=>`NOTIFICAÇÃO EXTRAJUDICIAL REQUERIMENTO DE PPP E LTCAT

${s.employer_name}
CNPJ: ${p(s.employer_cnpj)}

${r.client_name}, neste ato representado por seu advogado que este subscreve, vem, por meio deste, solicitar a emissão de PPP (Perfil Profissiográfico Previdenciário) com o respectivo LTCAT (Laudo Técnico das Condições Ambientais de Trabalho), para fins de instrução no processo de aposentadoria em face do Instituto Nacional do Seguro Social - INSS.

Vale salientar que o PPP somente é válido diante do preenchimento de todos os campos, principalmente aos que se referem à exposição dos agentes nocivos, indicação do responsável técnico pelos registros ambientais (Tema 208 - TNU), carimbo e assinatura do responsável da empresa. Ressalta-se, ainda, que o documento deve seguir o modelo estabelecido pela Instrução normativa nº 133/2022 e 128/2022.

Requer também que o PPP venha acompanhado de autorização que identifique o representante legal responsável pela assinatura do laudo ou a cópia do contrato social da empresa, quando o representante legal for o sócio da mesma.

Os documentos deverão ser encaminhados por e-mail para extrajudicial@koetzadvocacia.com.br

DADOS DO REQUERENTE:
Nome: ${r.client_name}
CPF: ${r.client_cpf}
Período: ${N(s.start_date)} a ${N(s.end_date)}

Certa de vossa atenção,
aguardo retorno. Atenciosamente,
Eduardo Koetz - OAB/SC 42.934`;return e.jsxs(ue,{breadcrumbs:h,children:[e.jsx(le,{title:`Vínculos - ${r.case_number} - Sistema Jurídico`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ce,{href:`/cases/${r.id}`,children:e.jsxs(f,{variant:"outline",size:"sm",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Voltar ao Caso"]})}),e.jsxs(f,{variant:"default",size:"sm",onClick:()=>k(!0),children:[e.jsx(he,{className:"mr-2 h-4 w-4"}),"Novo Vínculo"]})]}),e.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Vínculos Empregatícios"}),e.jsxs("p",{className:"text-muted-foreground",children:["Caso: ",r.case_number," - ",r.client_name]})]})}),e.jsxs(F,{children:[e.jsx(q,{children:e.jsxs(B,{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"h-5 w-5"}),e.jsx("span",{children:"Informações do Cliente"})]})}),e.jsx(X,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nome do Cliente"}),e.jsx("p",{className:"text-lg",children:r.client_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CPF"}),e.jsx("p",{className:"text-lg",children:r.client_cpf})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Número do Caso"}),e.jsx("p",{className:"font-mono text-lg",children:r.case_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Vínculos"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:r.employment_relationships.length})]})]})})]}),e.jsxs(F,{children:[e.jsxs(q,{children:[e.jsx(B,{children:"Lista de Vínculos Empregatícios"}),e.jsx(z,{children:"Edite os dados e eles serão salvos automaticamente"})]}),e.jsx(X,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(de,{children:[e.jsx(ie,{children:e.jsxs(G,{children:[e.jsx(w,{children:"Empregador"}),e.jsx(w,{children:"Status Empresa"}),e.jsx(w,{children:"Data Início"}),e.jsx(w,{children:"Data Fim"}),e.jsx(w,{children:"Cargo"}),e.jsx(w,{children:"Documentos"}),e.jsx(w,{children:"Observações"})]})}),e.jsx(me,{children:i.map((s,a)=>e.jsxs(G,{children:[e.jsx(T,{children:s.employer_name}),e.jsx(T,{children:e.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:s.status_empresa||"",onChange:o=>P(a,"status_empresa",o.target.value),children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"Ativa",children:"Ativa"}),e.jsx("option",{value:"Baixada",children:"Baixada"}),e.jsx("option",{value:"Inapta",children:"Inapta"})]})}),e.jsx(T,{children:e.jsx(Y,{value:s.start_date,onChange:o=>P(a,"start_date",o)})}),e.jsx(T,{children:e.jsx(Y,{value:s.end_date,onChange:o=>P(a,"end_date",o)})}),e.jsx(T,{children:e.jsx(L,{value:s.cargo||"",onChange:o=>P(a,"cargo",o),placeholder:"Cargo"})}),e.jsx(T,{children:e.jsx(L,{value:s.documentos||"",onChange:o=>P(a,"documentos",o),placeholder:"Documentos"})}),e.jsx(T,{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{value:s.observacoes||"",onChange:o=>P(a,"observacoes",o),placeholder:"Observações"}),e.jsx("div",{className:`h-3 w-3 rounded-full ${s.is_active?"bg-yellow-500":"bg-green-500"}`,title:s.is_active?"Pendente":"Concluído"})]})})]},s.id))})]})})})]}),e.jsxs(F,{children:[e.jsxs(q,{children:[e.jsxs(B,{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-5 w-5"}),e.jsx("span",{children:"Vínculos Empregatícios"})]}),e.jsx(z,{children:"Lista de todos os vínculos empregatícios extraídos do CNIS"})]}),e.jsx(X,{children:r.employment_relationships.length>0?e.jsx("div",{className:"overflow-x-auto",children:i.map((s,a)=>e.jsxs("div",{className:"mb-4 rounded-lg border bg-card shadow-sm",children:[e.jsxs("div",{className:"flex cursor-pointer items-center justify-between px-4 py-3",onClick:()=>se(a),children:[e.jsx("span",{className:"text-lg font-bold",children:s.employer_name}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx(f,{size:"sm",variant:s.is_active?"secondary":"default",className:s.is_active?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200",onClick:o=>{o.stopPropagation(),ae(a)},children:s.is_active?"Pendente":"Concluído"}),e.jsx(f,{size:"sm",variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:o=>{o.stopPropagation(),te(s)},children:"Gerar Carta"}),e.jsx(f,{size:"sm",variant:"destructive",onClick:o=>{o.stopPropagation(),oe(a)},children:"Remover"}),e.jsx("span",{children:v===a?e.jsx(ve,{}):e.jsx(ge,{})})]})]}),v===a&&e.jsxs("div",{className:"border-t bg-muted p-4",children:[e.jsx("div",{className:"mb-2 font-semibold",children:"Tentativas de Contato"}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[1,2,3].map(o=>e.jsxs("div",{className:"rounded-lg border bg-background p-4",children:[e.jsxs("div",{className:"mb-2 font-medium",children:["Tentativa ",o]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Endereço"}),e.jsx("input",{type:"text",className:"w-full rounded border px-2 py-1",placeholder:"Rua, número, cidade...",value:S(s.id,o,"endereco"),onChange:t=>D(s.id,o,"endereco",t.target.value),onBlur:t=>$(a,o,"endereco",t.target.value)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Cód. Rastreio"}),e.jsx("input",{type:"text",className:"w-full rounded border px-2 py-1",placeholder:"XX123456789BR",value:S(s.id,o,"rastreamento"),onChange:t=>D(s.id,o,"rastreamento",t.target.value),onBlur:t=>$(a,o,"rastreamento",t.target.value)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Data de Envio"}),e.jsx("input",{type:"date",className:"w-full rounded border px-2 py-1",value:S(s.id,o,"data_envio"),onChange:t=>D(s.id,o,"data_envio",t.target.value),onBlur:t=>$(a,o,"data_envio",t.target.value)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Retorno"}),e.jsxs("select",{className:"w-full rounded border px-2 py-1",value:S(s.id,o,"retorno")||"Aguardando",onChange:t=>{D(s.id,o,"retorno",t.target.value),$(a,o,"retorno",t.target.value)},children:[e.jsx("option",{value:"Aguardando",children:"Aguardando"}),e.jsx("option",{value:"Recebido",children:"Recebido"}),e.jsx("option",{value:"Devolvido",children:"Devolvido"}),e.jsx("option",{value:"Não Localizado",children:"Não Localizado"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",className:"w-full rounded border px-2 py-1",placeholder:"contato@empresa.com",value:S(s.id,o,"email"),onChange:t=>D(s.id,o,"email",t.target.value),onBlur:t=>$(a,o,"email",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Telefone"}),e.jsx("input",{type:"text",className:"w-full rounded border px-2 py-1",placeholder:"(XX) XXXXX-XXXX",value:S(s.id,o,"telefone"),onChange:t=>D(s.id,o,"telefone",t.target.value),onBlur:t=>$(a,o,"telefone",t.target.value)})]})]},o))})]})]},s.id))}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(W,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Nenhum vínculo encontrado"}),e.jsx("p",{className:"text-muted-foreground",children:"Este caso ainda não possui vínculos empregatícios cadastrados."})]})})]}),e.jsx(J,{open:C,onOpenChange:g,children:e.jsxs(M,{className:"max-h-[90vh] w-full max-w-2xl overflow-y-auto md:max-w-4xl",children:[e.jsxs(U,{children:[e.jsx(H,{className:"text-lg md:text-xl",children:"Notificação Extrajudicial - Requerimento de PPP e LTCAT"}),e.jsxs(K,{className:"text-sm md:text-base",children:["Carta para: ",e.jsx("b",{children:n==null?void 0:n.employer_name})," - CNPJ: ",e.jsx("b",{children:p((n==null?void 0:n.employer_cnpj)||"")})]})]}),e.jsxs("div",{className:"my-4 rounded-lg border bg-card text-foreground p-4 font-mono text-xs leading-relaxed md:p-6 md:text-sm",children:[e.jsx("div",{className:"mb-4 text-center md:mb-6",children:e.jsx("h2",{className:"mb-2 text-base font-bold md:text-lg",children:"NOTIFICAÇÃO EXTRAJUDICIAL REQUERIMENTO DE PPP E LTCAT"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:n==null?void 0:n.employer_name}),e.jsxs("p",{children:["CNPJ: ",p((n==null?void 0:n.employer_cnpj)||"")]})]}),e.jsxs("div",{className:"mb-6 space-y-4 text-justify",children:[e.jsxs("p",{children:[e.jsx("strong",{children:r.client_name}),", neste ato representado por seu advogado que este subscreve, vem, por meio deste, solicitar a emissão de PPP (Perfil Profissiográfico Previdenciário) com o respectivo LTCAT (Laudo Técnico das Condições Ambientais de Trabalho), para fins de instrução no processo de aposentadoria em face do Instituto Nacional do Seguro Social - INSS."]}),e.jsx("p",{children:"Vale salientar que o PPP somente é válido diante do preenchimento de todos os campos, principalmente aos que se referem à exposição dos agentes nocivos, indicação do responsável técnico pelos registros ambientais (Tema 208 - TNU), carimbo e assinatura do responsável da empresa. Ressalta-se, ainda, que o documento deve seguir o modelo estabelecido pela Instrução normativa nº 133/2022 e 128/2022."}),e.jsx("p",{children:"Requer também que o PPP venha acompanhado de autorização que identifique o representante legal responsável pela assinatura do laudo ou a cópia do contrato social da empresa, quando o representante legal for o sócio da mesma."}),e.jsxs("p",{children:["Os documentos deverão ser encaminhados por e-mail para ",e.jsx("strong",{children:"extrajudicial@koetzadvocacia.com.br"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"mb-2 font-bold",children:"DADOS DO REQUERENTE:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",r.client_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"CPF:"})," ",r.client_cpf]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Período:"})," ",n?`${N(n.start_date)} a ${N(n.end_date)}`:""]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("p",{className:"mb-2",children:"Certa de vossa atenção,"}),e.jsx("p",{className:"mb-4",children:"aguardo retorno. Atenciosamente,"}),e.jsx("p",{className:"font-bold",children:"Eduardo Koetz - OAB/SC 42.934"})]})]}),e.jsxs(Q,{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsxs(f,{variant:"outline",className:"w-full sm:w-auto",onClick:async()=>{if(n)try{const s=V(n);await navigator.clipboard.writeText(s),alert("Carta copiada para a área de transferência!")}catch{const a=document.createElement("textarea");a.value=V(n),document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),alert("Carta copiada para a área de transferência!")}},children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),"Copiar Texto"]}),e.jsx(f,{onClick:re,className:"w-full sm:w-auto",children:"Fechar"})]})]})})]}),e.jsx(J,{open:Z,onOpenChange:k,children:e.jsx(M,{className:"sm:max-w-[600px]",children:e.jsxs("form",{onSubmit:ne,children:[e.jsxs(U,{children:[e.jsx(H,{children:"Novo Vínculo Empregatício"}),e.jsx(K,{children:"Preencha os dados do novo vínculo empregatício."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"employer_name",children:"Nome do Empregador"}),e.jsx(E,{id:"employer_name",value:m.employer_name,onChange:s=>j(a=>({...a,employer_name:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"employer_cnpj",children:"CNPJ"}),e.jsx(E,{id:"employer_cnpj",value:m.employer_cnpj,onChange:s=>j(a=>({...a,employer_cnpj:s.target.value}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"start_date",children:"Data Início"}),e.jsx(E,{id:"start_date",type:"date",value:m.start_date,onChange:s=>j(a=>({...a,start_date:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"end_date",children:"Data Fim"}),e.jsx(E,{id:"end_date",type:"date",value:m.end_date,onChange:s=>j(a=>({...a,end_date:s.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"cargo",children:"Cargo"}),e.jsx(E,{id:"cargo",value:m.cargo,onChange:s=>j(a=>({...a,cargo:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"status_empresa",children:"Status da Empresa"}),e.jsxs("select",{id:"status_empresa",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:m.status_empresa,onChange:s=>j(a=>({...a,status_empresa:s.target.value})),children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"Ativa",children:"Ativa"}),e.jsx("option",{value:"Baixada",children:"Baixada"}),e.jsx("option",{value:"Inapta",children:"Inapta"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"documentos",children:"Documentos"}),e.jsx(E,{id:"documentos",value:m.documentos,onChange:s=>j(a=>({...a,documentos:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"observacoes",children:"Observações"}),e.jsx(E,{id:"observacoes",value:m.observacoes,onChange:s=>j(a=>({...a,observacoes:s.target.value}))})]})]}),e.jsxs(Q,{children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Salvar"})]})]})})})]})}export{Oe as default};
