import{r as x,j as e,Q as M,t as n,S as z}from"./app-BLxXbY_b.js";import{a as N,B as r}from"./button-DT3cAopr.js";import{C as l,a as i,b as E,c as B,d as L}from"./card-DXsYbZZ8.js";import{I as D}from"./input-B6-kdMEW.js";import{A as $,B as q}from"./app-layout-G5Onjp1f.js";import{P as g}from"./plus-r_jTQZqR.js";import{S as A}from"./search-Cer43Vt0.js";/* empty css            */import"./index-6jQRo-49.js";import"./index-Ci0KITsv.js";import"./app-logo-icon-DgzmCoEH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],V=N("Grid3x3",I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],T=N("List",R),G=[{title:"Dashboard",href:"/dashboard"},{title:"Casos",href:"/cases"}];function te({cases:c,users:K,statuses:v,filters:b}){const[o,y]=x.useState(b.search||""),[d,k]=x.useState(c.data),[m,u]=x.useState("list");x.useEffect(()=>{const s=t=>{const{caseId:a,progress:F,status:S}=t.detail;k(P=>P.map(h=>h.id===a?{...h,status:S}:h))};return window.addEventListener("caseProgressUpdated",s),()=>{window.removeEventListener("caseProgressUpdated",s)}},[]);const p=s=>({pendente:"Pendente",em_coleta:"Em Coleta",aguarda_peticao:"Aguarda Petição",protocolado:"Protocolado",concluido:"Concluído",rejeitado:"Rejeitado"})[s]||v[s]||s,j=s=>{switch(s){case"pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"em_coleta":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"aguarda_peticao":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"protocolado":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"concluido":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"arquivado":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},f=()=>{z.get("/cases",{search:o},{preserveState:!0})},C=s=>{s.key==="Enter"&&f()},w=(()=>{const s={pendente:{title:"Pendente",cases:[]},em_coleta:{title:"Em Coleta",cases:[]},aguarda_peticao:{title:"Aguarda Petição",cases:[]},protocolado:{title:"Protocolado",cases:[]},concluido:{title:"Concluído",cases:[]},arquivado:{title:"Arquivado",cases:[]}};return d.forEach(t=>{s[t.status]?s[t.status].cases.push(t):s.pendente.cases.push(t)}),s})();return e.jsxs($,{breadcrumbs:G,children:[e.jsx(M,{title:"Casos - Sistema Jurídico"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Casos"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os casos jurídicos dos clientes"})]}),e.jsx(n,{href:"/cases/create",children:e.jsxs(r,{children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Novo Caso"]})})]}),e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(A,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform text-muted-foreground"}),e.jsx(D,{placeholder:"Buscar por nome do cliente...",value:o,onChange:s=>y(s.target.value),onKeyPress:C,className:"pl-10"})]}),e.jsx(r,{onClick:f,variant:"outline",children:"Buscar"})]})})}),e.jsx(l,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Modo de Visualização:"}),e.jsxs("div",{className:"flex rounded-lg border",children:[e.jsxs(r,{variant:m==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"rounded-r-none",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Lista"]}),e.jsxs(r,{variant:m==="kanban"?"default":"ghost",size:"sm",onClick:()=>u("kanban"),className:"rounded-l-none",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Kanban"]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.length," caso",d.length!==1?"s":""," encontrado",d.length!==1?"s":""]})]})})}),d&&d.length>0?m==="list"?e.jsxs(l,{children:[e.jsxs(E,{children:[e.jsxs(B,{children:["Casos (",(c==null?void 0:c.total)||0,")"]}),e.jsx(L,{children:"Lista de todos os casos jurídicos cadastrados no sistema"})]}),e.jsx(i,{children:e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4 transition-colors hover:bg-accent hover:text-accent-foreground",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:s.client_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["CPF: ",s.client_cpf]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`rounded-full px-3 py-1.5 text-xs font-semibold tracking-wide uppercase ${j(s.status)} transition-all duration-200 hover:scale-105`,children:p(s.status)})})]}),e.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:e.jsxs("span",{children:["Criado em: ",new Date(s.created_at).toLocaleDateString("pt-BR")]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{href:`/cases/${s.id}/vinculos`,children:e.jsx(r,{variant:"outline",size:"sm",children:"Vínculos"})}),e.jsx(n,{href:`/cases/${s.id}`,children:e.jsx(r,{variant:"outline",size:"sm",children:"Ver"})}),e.jsx(n,{href:`/cases/${s.id}/edit`,children:e.jsx(r,{variant:"outline",size:"sm",children:"Editar"})})]})]},s.id))})})]}):e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:Object.entries(w).map(([s,t])=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-sm",children:t.title}),e.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded-full",children:t.cases.length})]}),e.jsx("div",{className:"space-y-3",children:t.cases.map(a=>e.jsx(l,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:a.client_name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["CPF: ",a.client_cpf]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(a.created_at).toLocaleDateString("pt-BR")}),e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${j(a.status)}`,children:p(a.status)})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[e.jsx(n,{href:`/cases/${a.id}`,className:"flex-1",children:e.jsx(r,{variant:"outline",size:"sm",className:"w-full text-xs",children:"Ver"})}),e.jsx(n,{href:`/cases/${a.id}/edit`,children:e.jsx(r,{variant:"ghost",size:"sm",className:"text-xs",children:"Editar"})})]})]})})},a.id))})]},s))})}):e.jsx(l,{children:e.jsxs(i,{className:"py-12 text-center",children:[e.jsx(q,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Nenhum caso encontrado"}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:o?"Nenhum caso encontrado com os critérios de busca":"Comece criando seu primeiro caso jurídico"}),!o&&e.jsx(n,{href:"/cases/create",children:e.jsxs(r,{children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Criar Primeiro Caso"]})})]})})]})]})}export{te as default};
