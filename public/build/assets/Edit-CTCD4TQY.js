import{x as S,j as e,Q as y,t as x,S as E}from"./app-ByIhTPwz.js";import{B as n}from"./button-D42JWFCD.js";import{C as A,b as F,c as $,d as w,a as D}from"./card-CKXZzhI-.js";import{I as d}from"./input-BCJ9LsRF.js";import{L as l}from"./label-NLd7gjYY.js";import{S as h,a as p,b as u,c as j,d as r}from"./select-SvXyf1mN.js";import{T}from"./textarea-DJvt9bHM.js";import{A as V}from"./app-layout-Bpm5aqBZ.js";import{A as q}from"./arrow-left-CK0laoX8.js";import{T as z}from"./trash-2-DIm9C9Np.js";import{S as L}from"./save-Bg9MIrp4.js";/* empty css            */import"./index-BQV6tv38.js";import"./index-B0bzsaPC.js";import"./index-DrTir1zT.js";import"./chevron-up-BRYrRRww.js";import"./app-logo-icon-BU8CUpKl.js";function _({case:t,users:f,benefitTypes:c}){console.log("Case data received:",t),console.log("Case status:",t==null?void 0:t.status);const{data:a,setData:o,put:v,processing:m,errors:i}=S({client_name:(t==null?void 0:t.client_name)||"",client_cpf:(t==null?void 0:t.client_cpf)||"",benefit_type:(t==null?void 0:t.benefit_type)??"",status:(t==null?void 0:t.status)||"pendente",description:(t==null?void 0:t.description)??""});if(console.log("Form data initialized:",a),console.log("Current status in form:",a.status),!t||!f||!c)return e.jsx("div",{className:"p-8 text-center text-red-600",children:"Erro ao carregar dados do caso. Verifique se o caso existe e tente novamente."});const b=[{title:"Dashboard",href:"/dashboard"},{title:"Casos",href:"/cases"},{title:t.case_number,href:`/cases/${t.id}`},{title:"Editar",href:`/cases/${t.id}/edit`}],g=s=>{s.preventDefault(),console.log("Enviando dados:",a),console.log("Status selecionado:",a.status),v(`/cases/${t.id}`)},C=()=>{confirm(`Tem certeza que deseja remover o caso "${t.client_name}"? Esta ação não pode ser desfeita.`)&&E.delete(`/cases/${t.id}`)};return e.jsxs(V,{breadcrumbs:b,children:[e.jsx(y,{title:`Editar Caso ${t.case_number} - Sistema Jurídico`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(x,{href:`/cases/${t.id}`,children:e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Voltar ao Caso"]})})})}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(F,{children:[e.jsx($,{children:"Editar Caso"}),e.jsxs(w,{children:["Atualize as informações do caso ",t.case_number]})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"case_number",children:"Número do Caso"}),e.jsx(d,{id:"case_number",value:t.case_number,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Número do caso não pode ser alterado"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:"Situação"}),e.jsxs(h,{value:a.status,onValueChange:s=>{console.log("Status changed to:",s),o("status",s)},children:[e.jsx(p,{children:e.jsx(u,{placeholder:"Selecione a situação"})}),e.jsxs(j,{children:[e.jsx(r,{value:"pendente",children:"Pendente"}),e.jsx(r,{value:"em_coleta",children:"Em Coleta"}),e.jsx(r,{value:"aguarda_peticao",children:"Aguarda Petição"}),e.jsx(r,{value:"protocolado",children:"Protocolado"}),e.jsx(r,{value:"concluido",children:"Concluído"}),e.jsx(r,{value:"arquivado",children:"Arquivado"})]})]}),i.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.status})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"client_name",children:"Nome do Cliente"}),e.jsx(d,{id:"client_name",value:a.client_name,onChange:s=>o("client_name",s.target.value),placeholder:"Nome completo do cliente"}),i.client_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.client_name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"client_cpf",children:"CPF"}),e.jsx(d,{id:"client_cpf",value:a.client_cpf,onChange:s=>o("client_cpf",s.target.value),placeholder:"000.000.000-00"}),i.client_cpf&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.client_cpf})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"benefit_type",children:"Tipo de Benefício"}),e.jsxs(h,{value:a.benefit_type,onValueChange:s=>o("benefit_type",s),children:[e.jsx(p,{children:e.jsx(u,{placeholder:"Selecione o tipo de benefício"})}),e.jsx(j,{children:Object.entries(c).map(([s,N])=>e.jsx(r,{value:s,children:N},s))})]}),i.benefit_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.benefit_type})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",children:"Descrição"}),e.jsx(T,{id:"description",value:a.description,onChange:s=>o("description",s.target.value),placeholder:"Descrição detalhada do caso...",rows:4}),i.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{type:"button",variant:"destructive",onClick:C,className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Remover Caso"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{href:`/cases/${t.id}`,children:e.jsx(n,{variant:"outline",type:"button",children:"Cancelar"})}),e.jsxs(n,{type:"submit",disabled:m,children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),m?"Salvando...":"Salvar Alterações"]})]})]})]})]})]})}export{_ as default};
